/*! jquery-stone - v0.0.0 - 2012-07-02
* Copyright (c) 2012 function () {

// If the string looks like an identifier, then we can return it as is.
// If the string contains no control characters, no quote characters, and no
// backslash characters, then we can simply slap some quotes around it.
// Otherwise we must also replace the offending characters with safe
// sequences.

            if (ix.test(this)) {
                return this;
            }
            if (nx.test(this)) {
                return '"' + this.replace(nxg, function (a) {
                    var c = escapes[a];
                    if (c) {
                        return c;
                    }
                    return '\\u' + ('0000' + a.charCodeAt().toString(16)).slice(-4);
                }) + '"';
            }
            return '"' + this + '"';
        }; Licensed MIT, GPL */
(function(a,b,c){function g(b){this.options=a.extend({},f,b),this._defaults=f,this._name=d,this._buffer={},this.init()}"use strict";var d="stone",e="0.0.0",f={dataScheme:"jqstone",enableEngines:[],saveStrategy:"fallback",syncBufferLimit:0};g.prototype={init:function(){var a=this.options.enableEngines[0];this.database=h[a]},get:function(a,b){var c=this.getDataUrl(a),d=null;return c in this._buffer?d=this._buffer[c]:(d=this.database.get.call(this,c,b),this._buffer[c]=d),d},set:function(a,b,c){if(typeof b=="undefined")return;var d=this.getDataUrl(a);return this.database.set.call(this,d,b,c),this._buffer[d]=b,this},remove:function(a,b){var c=this.getDataUrl(a);return this.database.remove.call(this,c,b),delete this._buffer[c],this},clear:function(){return this.database.clear.call(this,new RegExp(this.getDataUrl(""))),this._buffer={},this},getDataUrl:function(a){return this.options.dataScheme+"://"+a}};var h={};return a[d]={_version:function(){return e},_defaults:function(){return f},availableEngines:function(){return h},unregisterStorageEngine:function(a){delete h[a]},registerStorageEngine:function(a,b){b.isAvailable()&&(h[a]=b)},create:function(a){return new g(a)}},a})(jQuery,this),function(a,b,c){"use strict";var d="stone";return a[d].registerStorageEngine("localStorage",{isAvailable:function(){try{return"localStorage"in window&&window.localStorage!==null}catch(a){return!1}},set:function(a,b,c){console.log("SET_LOC",b);var d=JSON.stringify(b);localStorage.setItem(a,d)},get:function(a,b){var c=localStorage.getItem(a),d=null;try{d=JSON.parse(c)}catch(e){d=null}return d},remove:function(a,b){localStorage.removeItem(a)},clear:function(a){if(a)for(var b=0,c=localStorage.length;b<c;b++){var d=localStorage.key(b);d.match(a)&&localStorage.removeItem(d)}else localStorage.clear()}}),a}(jQuery,this);